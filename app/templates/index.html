{% extends 'base.html' %}

{% block title %}CyberBandu - Advanced Scam Detection{% endblock %}

{% block content %}
<!-- Home Section -->
<section id="home" class="section active">
    <div class="container">
        <div class="hero">
            <div class="hero-content">
                <h1>CyberBandu</h1>
                <p>Advanced AI-powered scam detection and real-time protection for everyone. Stay safe in the digital world with cutting-edge machine learning technology.</p>
                
                <div class="hero-buttons">
                    <button class="hero-btn" onclick="window.location.href=`{% url 'analyze' %}`">
                        üîç Analyze Call
                    </button>
                    <button class="hero-btn" onclick="showSection('learning')">
                        üéØ Learn Safety
                    </button>
                    <button class="hero-btn emergency-btn" onclick="showSection('emergency')">
                        üö® Emergency Help
                    </button>
                </div>
            </div>

            <div class="challenges">
                <h2 style="text-align: center; color: rgba(0, 0, 0, 0.725); margin-bottom: 2rem; font-size: 2.5rem;">Critical Challenges We Face</h2>
                <div class="challenges-grid">
                    <div class="challenge-card">
                        <span class="challenge-icon">üìà</span>
                        <h3 style="color: #ef4444; margin-bottom: 1rem;">Rising Scam Volume</h3>
                        <p style="color: black;">Over 2.8 billion scam calls made annually, with losses exceeding $30 billion globally. Traditional detection methods can't keep pace.</p>
                    </div>
                    <div class="challenge-card">
                        <span class="challenge-icon">üé≠</span>
                        <h3 style="color: #ef4444; margin-bottom: 1rem;">Sophisticated Tactics</h3>
                        <p style="color: black;">AI-powered voice cloning, deepfakes, and psychological manipulation make scams increasingly difficult to detect manually.</p>
                    </div>
                    <div class="challenge-card">
                        <span class="challenge-icon">üë•</span>
                        <h3 style="color: #ef4444; margin-bottom: 1rem;">Vulnerable Populations</h3>
                        <p style="color: black;">Seniors lose $1.7 billion annually to scams. Language barriers and digital literacy gaps increase vulnerability.</p>
                    </div>
                    <div class="challenge-card">
                        <span class="challenge-icon">‚ö°</span>
                        <h3 style="color: #ef4444; margin-bottom: 1rem;">Real-Time Detection</h3>
                        <p style="color: black;">Scammers exploit urgency and pressure. Detection systems need millisecond response times to be effective.</p>
                    </div>
                    <div class="challenge-card">
                        <span class="challenge-icon">üî•</span>
                        <h3 style="color: #ef4444; margin-bottom: 1rem;">Evolving Threats</h3>
                        <p style="color: black;">New scam techniques emerge daily. Static detection rules become obsolete within weeks of deployment.</p>
                    </div>
                    <div class="challenge-card">
                        <span class="challenge-icon">üåç</span>
                        <h3 style="color: #ef4444; margin-bottom: 1rem;">Cross-Border Crime</h3>
                        <p style="color: black;">International scam operations exploit jurisdictional gaps, making traditional law enforcement response ineffective.</p>
                    </div>
                </div>
            </div>

      <div class="section-container">
        <h2>Fraud Cases in India (2020‚Äì2025)</h2>
        <div class="chart-container">
            <canvas id="threatsChart"></canvas>
        </div>
    </div>

            <!-- How It Works Section -->
           <div class="how-works">
    <h2 style="text-align: center; color: #3c4142; margin-bottom: 2rem; font-size: 2.5rem;">How CyberBandu Works</h2>
    <div class="steps-grid">
        <div class="step-card">
            <div class="step-number">1</div>
            <h3 style="color: #3c4142; margin-bottom: 1rem;">Upload Audio</h3>
            <p>Upload your suspicious call recording or enter the transcript for analysis</p>
        </div>
        <div class="step-card">
            <div class="step-number">2</div>
            <h3 style="color: #3c4142; margin-bottom: 1rem;">AI Analysis</h3>
            <p>Our advanced AI analyzes speech patterns, content, and behavioral markers</p>
        </div>
        <div class="step-card">
            <div class="step-number">3</div>
            <h3 style="color: #3c4142; margin-bottom: 1rem;">Risk Assessment</h3>
            <p>Get a transcript, predicted category, and a risk flag for the uploaded audio.</p>
        </div>
    </div>
</div>
        </div>
    </div>
</section>

<!-- Enhanced Analyzer Section -->


<!-- Enhanced Learning Section -->
<section id="learning" class="section">
    <div class="container">
        <div class="learning-container">
            <h2 style="text-align: center; font-size: 3rem; margin-bottom: 2rem; color: #3c4142;">Interactive Scam Training</h2>
            <p style="text-align: center; color: #111112; margin-bottom: 3rem; font-size: 1.2rem;">Choose your profile and master scam detection through realistic scenarios</p>
            
            <div class="persona-grid">
                <div class="persona-card" onclick="startPersonaTraining('student')">
                    <div class="persona-avatar">üéì</div>
                    <h3 style="color: #101011; margin-bottom: 1rem;">Student</h3>
                    <p style="color: black;">Scholarship scams, student loan fraud, fake university schemes, and work-from-home traps</p>
                </div>
                
                <div class="persona-card" onclick="startPersonaTraining('professional')">
                    <div class="persona-avatar">üíº</div>
                    <h3 style="color: #1b1c1c; margin-bottom: 1rem;">Professional</h3>
                    <p style="color: black;">Business email compromise, fake investment opportunities, corporate impersonation, and crypto scams</p>
                </div>
                
                <div class="persona-card" onclick="startPersonaTraining('senior')">
                    <div class="persona-avatar">üë¥</div>
                    <h3 style="color: #141515; margin-bottom: 1rem;">Senior Citizen</h3>
                    <p style="color: black;">Medicare fraud, Social Security scams, tech support impersonation, and charity frauds</p>
                </div>
                
                <div class="persona-card" onclick="startPersonaTraining('homemaker')">
                    <div class="persona-avatar">üè†</div>
                    <h3 style="color: #0d0d0d; margin-bottom: 1rem;">Homemaker</h3>
                    <p style="color: black;">Online shopping scams, utility fraud, fake charity solicitations, and romance scams</p>
                </div>
            </div>

            <div id="training-interface" class="scenario-interface">
                <div class="scenario-counter" id="scenario-counter">Scenario</div>
                <h3 style="color: #141414; margin-bottom: 2rem;" id="scenario-title">Scam Detection Challenge</h3>
                
                <div class="scenario-content" id="scenario-content">
                    <p style="color: black;">Select a profile above to begin your personalized scam training journey.</p>
                </div>
                
                <div class="response-options" id="response-options" style="color: black;">
                </div>
                
                <div id="scenario-result" class="scenario-result" style="display: none;"></div>
                
                <div style="text-align: center; margin-top: 2rem;">
                    <button class="hero-btn" onclick="nextScenario()" id="next-btn" style="display: none;">Next Scenario ‚Üí</button>
                    <button class="hero-btn" onclick="completeTraining()" id="complete-btn" style="display: none;">Complete Training üèÜ</button>
                </div>
            </div>
        </div>
    </div>
     <div class="section-container">
        <h2>Cyber Safety Tips</h2>

        <div class="personalization-options">
            <label for="demographic-select" style="font-weight: bold; color: #3c4142;">Select Your Demographic:</label>
            <select id="demographic-select">
                <option value="students">Students</option>
                <option value="homemakers">Homemakers</option>
                <option value="seniors">Senior Citizens</option>
                <option value="everyone" selected>Everyone</option>
            </select>
        </div>

        <div class="threat-feed-container">
            <div id="threat-feed">
                <!-- Feed items will be populated here by JavaScript -->
                <p style="text-align: center; color: #777;">Loading personalized tips...</p>
            </div>
        </div>
    </div>
</section>

<!-- Emergency Section -->
<section id="emergency" class="section">
    <div class="container">
        <div style="padding: 4rem 0; text-align: center;">
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin: 4rem 0;">
                <div style="background: rgba(72, 122, 135, 0.227); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 20px; padding: 2rem; backdrop-filter: blur(20px);">
                    <div style="font-size: 3rem; margin-bottom: 1rem; color: #3c4142;">üõë</div>
                    <h4 style="color: #3c4142; margin-bottom: 1rem;">Stop Contact</h4>
                    <p style="color: black;">Immediately cease all communication with the scammer. Block their number and email.</p>
                </div>
                
                <div style="background: rgba(72, 122, 135, 0.227);; border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 20px; padding: 2rem; backdrop-filter: blur(20px);">
                    <div style="font-size: 3rem; margin-bottom: 1rem; color: #3c4142;">üè¶</div>
                    <h4 style="color: #3c4142; margin-bottom: 1rem;">Secure Finances</h4>
                    <p style="color: black;">Contact your bank immediately if you shared financial information or made payments.</p>
                </div>
                
                <div style="background: rgba(72, 122, 135, 0.227);; border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 20px; padding: 2rem; backdrop-filter: blur(20px);">
                    <div style="font-size: 3rem; margin-bottom: 1rem; color: #3c4142;">üìã</div>
                    <h4 style="color: #3c4142; margin-bottom: 1rem;">Document Everything</h4>
                    <p style="color: black;">Save all evidence: screenshots, call logs, emails, and transaction records.</p>
                </div>
                
                <div style="background: rgba(72, 122, 135, 0.227);; border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 20px; padding: 2rem; backdrop-filter: blur(20px);">
                    <div style="font-size: 3rem; margin-bottom: 1rem; color: #3c4142;">üöì</div>
                    <h4 style="color: #3c4142; margin-bottom: 1rem;">Report to Authorities</h4>
                    <p style="color: black;">File reports with FTC, FBI IC3, and your local police department immediately.</p>
                </div>
            </div>

            <div style="background: rgba(0, 212, 255, 0.1); border: 1px solid rgba(0, 212, 255, 0.3); border-radius: 20px; padding: 3rem; margin: 4rem 0; backdrop-filter: blur(20px);">
                <h3 style="color: #3c4142; text-align: center; margin-bottom: 3rem;">24/7 Emergency Hotlines</h3>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem;">
                    <div style="background: rgba(0, 212, 255, 0.1); border: 1px solid rgba(0, 213, 255, 0.179); border-radius: 15px; padding: 1.5rem; text-align: center; backdrop-filter: blur(20px);">
                        <h4 style="color: black;">Federal Trade Commission</h4>
                        <div style="font-size: 1.3rem; font-weight: 600; color: #3c4142; margin-top: 0.5rem;">1-877-FTC-HELP</div>
                    </div>
                    
                    <div style="background: rgba(0, 212, 255, 0.1); border: 1px solid rgba(0, 213, 255, 0.156); border-radius: 15px; padding: 1.5rem; text-align: center; backdrop-filter: blur(20px);">
                        <h4 style="color: black;">FBI Internet Crime</h4>
                        <div style="font-size: 1.3rem; font-weight: 600; color: #3c4142; margin-top: 0.5rem;">ic3.gov</div>
                    </div>
                    
                    <div style="background: rgba(0, 212, 255, 0.1); border: 1px solid rgba(0, 213, 255, 0.138); border-radius: 15px; padding: 1.5rem; text-align: center; backdrop-filter: blur(20px);">
                        <h4 style="color: black;">AARP Fraud Watch</h4>
                        <div style="font-size: 1.3rem; font-weight: 600; color: #3c4142; margin-top: 0.5rem;">1-877-908-3360</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}
{% block extra_js %}
    <!-- Chart.js library from CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

   <script>
        window.addEventListener('load', () => {
            const ctx = document.getElementById('threatsChart').getContext('2d');

            const labels = ['2020', '2021', '2022', '2023', '2024', '2025'];
            const data = [10395, 14007, 2800000, 2440000, 3640000, 2400000];

            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Estimated Number of Cases in India',
                        data: data,
                        borderColor: '#5cb8ff',
                        backgroundColor: 'rgba(0, 212, 255, 0.2)',
                        pointBackgroundColor: '#00d4ff',
                        pointBorderColor: '#fff',
                        tension: 0.4,
                        fill: true,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            ticks: {
                                color: '#555'
                            }
                        },
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            ticks: {
                                color: '#555'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            labels: {
                                color: '#3c4142'
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(255, 255, 255, 0.9)',
                            titleColor: '#3c4142',
                            bodyColor: '#555',
                            borderColor: '#00d4ff',
                            borderWidth: 1
                        }
                    },
                    animation: {
                        duration: 2000,
                        easing: 'easeInOutQuad'
                    }
                }
            });
        });
         window.addEventListener('load', () => {
            const feedContainer = document.getElementById('threat-feed');
            const demographicSelect = document.getElementById('demographic-select');

            const demographicTips = {
                everyone: [
                    { icon: 'üîí', title: 'Two-Factor Authentication (2FA)', description: 'Always enable 2FA on your accounts for an extra layer of security.' },
                    { icon: 'üîë', title: 'Strong Passwords', description: 'Use complex and unique passwords for each account. Consider using a password manager.' },
                    { icon: '‚ö†Ô∏è', title: 'Recognize Phishing', description: 'Be cautious of unsolicited emails or messages asking for personal information.' },
                    { icon: 'üîÑ', title: 'Regular Updates', description: 'Keep your operating system, apps, and antivirus software up to date.' }
                ],
                students: [
                    { icon: 'üìö', title: 'Safe Public Wi-Fi', description: 'Avoid logging into sensitive accounts on public Wi-Fi. Use a VPN for added security.' },
                    { icon: 'üí¨', title: 'Social Media Privacy', description: 'Review your privacy settings on social media and be mindful of what you share online.' },
                    { icon: 'üéÆ', title: 'Gaming Scams', description: 'Be aware of in-game scams, fake item offers, or malicious links sent via chat.' },
                    { icon: 'üíª', title: 'Educational Discounts', description: 'Verify student discounts and special offers to ensure they are legitimate websites.' }
                ],
                homemakers: [
                    { icon: 'üõí', title: 'Secure Online Shopping', description: 'Shop only on reputable websites and check for "https://" in the URL.' },
                    { icon: 'ÔøΩ', title: 'Investment Scams', description: 'Be skeptical of unsolicited messages or calls promising high returns on investments.' },
                    { icon: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶', title: 'Family Protection', description: 'Teach your children about online safety and supervise their internet use.' },
                    { icon: 'üìß', title: 'Common Scams', description: 'Look out for fake invoices, delivery notices, or charity requests sent via email.' }
                ],
                seniors: [
                    { icon: 'üìû', title: 'Government Impersonation Scams', description: 'Government agencies will not call you to demand money or personal information. Hang up and verify the number.' },
                    { icon: 'üëµ', title: 'Tech Support Scams', description: 'Do not allow remote access to your computer from an unexpected caller. Legitimate companies will not do this.' },
                    { icon: 'üí∏', title: 'Grandparent Scams', description: 'Be cautious of urgent calls from a "grandchild" or "family member" asking for money. Verify their identity first.' },
                    { icon: 'üíä', title: 'Medical Scams', description: 'Be skeptical of offers for free medical equipment or cures. Always consult a trusted medical professional.' }
                ]
            };

            const updateFeed = (demographic) => {
                feedContainer.innerHTML = ''; // Clear existing feed content
                const tips = demographicTips[demographic] || demographicTips.everyone;

                if (tips.length === 0) {
                    feedContainer.innerHTML = `<p style="text-align: center; color: #777;">No tips available for this demographic.</p>`;
                    return;
                }

                tips.forEach(tip => {
                    const item = document.createElement('div');
                    item.classList.add('threat-feed-item');
                    item.innerHTML = `
                        <span class="threat-icon">${tip.icon}</span>
                        <div class="threat-content">
                            <h4>${tip.title}</h4>
                            <p>${tip.description}</p>
                        </div>
                    `;
                    feedContainer.appendChild(item);
                });
            };
            
            // Handle demographic selection change
            demographicSelect.addEventListener('change', (event) => {
                const selectedDemographic = event.target.value;
                updateFeed(selectedDemographic);
            });

            // Initial load with the default "Everyone" demographic
            updateFeed(demographicSelect.value);
        });
         window.addEventListener('load', () => {
            const feedContainer = document.getElementById('threat-feed');
            const demographicSelect = document.getElementById('demographic-select');

            const demographicTips = {
                everyone: [
                    { icon: 'üîí', title: 'Two-Factor Authentication (2FA)', description: 'Always enable 2FA on your accounts for an extra layer of security.' },
                    { icon: 'üîë', title: 'Strong Passwords', description: 'Use complex and unique passwords for each account. Consider using a password manager.' },
                    { icon: '‚ö†Ô∏è', title: 'Recognize Phishing', description: 'Be cautious of unsolicited emails or messages asking for personal information.' },
                    { icon: 'üîÑ', title: 'Regular Updates', description: 'Keep your operating system, apps, and antivirus software up to date.' }
                ],
                students: [
                    { icon: 'üìö', title: 'Safe Public Wi-Fi', description: 'Avoid logging into sensitive accounts on public Wi-Fi. Use a VPN for added security.' },
                    { icon: 'üí¨', title: 'Social Media Privacy', description: 'Review your privacy settings on social media and be mindful of what you share online.' },
                    { icon: 'üéÆ', title: 'Gaming Scams', description: 'Be aware of in-game scams, fake item offers, or malicious links sent via chat.' },
                    { icon: 'üíª', title: 'Educational Discounts', description: 'Verify student discounts and special offers to ensure they are legitimate websites.' }
                ],
                homemakers: [
                    { icon: 'üõí', title: 'Secure Online Shopping', description: 'Shop only on reputable websites and check for "https://" in the URL.' },
                    { icon: 'ÔøΩ', title: 'Investment Scams', description: 'Be skeptical of unsolicited messages or calls promising high returns on investments.' },
                    { icon: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶', title: 'Family Protection', description: 'Teach your children about online safety and supervise their internet use.' },
                    { icon: 'üìß', title: 'Common Scams', description: 'Look out for fake invoices, delivery notices, or charity requests sent via email.' }
                ],
                seniors: [
                    { icon: 'üìû', title: 'Government Impersonation Scams', description: 'Government agencies will not call you to demand money or personal information. Hang up and verify the number.' },
                    { icon: 'üëµ', title: 'Tech Support Scams', description: 'Do not allow remote access to your computer from an unexpected caller. Legitimate companies will not do this.' },
                    { icon: 'üí∏', title: 'Grandparent Scams', description: 'Be cautious of urgent calls from a "grandchild" or "family member" asking for money. Verify their identity first.' },
                    { icon: 'üíä', title: 'Medical Scams', description: 'Be skeptical of offers for free medical equipment or cures. Always consult a trusted medical professional.' }
                ]
            };

            const updateFeed = (demographic) => {
                feedContainer.innerHTML = ''; // Clear existing feed content
                const tips = demographicTips[demographic] || demographicTips.everyone;

                if (tips.length === 0) {
                    feedContainer.innerHTML = `<p style="text-align: center; color: #777;">No tips available for this demographic.</p>`;
                    return;
                }

                tips.forEach(tip => {
                    const item = document.createElement('div');
                    item.classList.add('threat-feed-item');
                    item.innerHTML = `
                        <span class="threat-icon">${tip.icon}</span>
                        <div class="threat-content">
                            <h4>${tip.title}</h4>
                            <p>${tip.description}</p>
                        </div>
                    `;
                    feedContainer.appendChild(item);
                });
            };
            
            // Handle demographic selection change
            demographicSelect.addEventListener('change', (event) => {
                const selectedDemographic = event.target.value;
                updateFeed(selectedDemographic);
            });

            // Initial load with the default "Everyone" demographic
            updateFeed(demographicSelect.value);
        });
    </script>
{% endblock %}
